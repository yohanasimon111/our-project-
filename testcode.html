<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HopeLink Mahama - Empowering Refugees Through Technology</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            blue: '#3B82F6',
                            green: '#10B981',
                            yellow: '#FBBF24',
                            light: '#FEF3C7'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Base styles from original code */
        .nav-professional {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        .nav-scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }
        .nav-item {
            position: relative;
            transition: all 0.3s ease;
        }
        .nav-item::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -5px;
            left: 50%;
            background: linear-gradient(90deg, #3B82F6, #10B981);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        .nav-item:hover::after {
            width: 100%;
        }
        .donate-btn {
            background: linear-gradient(135deg, #10B981, #059669);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
            transition: all 0.3s ease;
        }
        .donate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal.active {
            display: flex;
        }
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlideIn 0.3s ease-out;
            position: relative; /* For the close button */
        }
        .modal-content-lg {
            max-width: 800px;
        }
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        .btn-loading {
            position: relative;
            color: transparent;
        }
        .btn-loading::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            top: 50%;
            left: 50%;
            margin-left: -10px;
            margin-top: -10px;
            border: 2px solid #ffffff;
            border-radius: 50%;
            border-right-color: transparent;
            animation: spin 0.8s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .hover-lift {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: linear-gradient(90deg, #3B82F6, #10B981);
            z-index: 1002;
            transition: width 0.3s ease;
        }
        .dropdown {
            position: relative;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            right: 0; /* Align dropdown to the right for user profile */
            background: white;
            min-width: 12rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-radius: 0.5rem;
            padding: 0.5rem 0;
            z-index: 100;
            animation: slideDown 0.2s ease-out;
            transform-origin: top right;
        }
        .dropdown-content-left { /* Used for standard navigation dropdowns */
            left: 0;
            right: auto;
            transform-origin: top left;
        }
        .dropdown-content.active {
            display: block;
        }
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(-10px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        /* ... other styles (mobile-menu, notification, hero-background, etc.) ... */
        .mobile-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .mobile-menu.active {
            display: block;
            animation: slideDown 0.3s ease-out;
        }
        .mobile-dropdown-content {
            display: none;
            padding-left: 1rem;
            margin-top: 0.5rem;
        }
        .mobile-dropdown-content.active {
            display: block;
        }
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            color: white;
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        .notification.show {
            transform: translateX(0);
        }
        .notification.success {
            background-color: #10B981;
        }
        .notification.error {
            background-color: #EF4444;
        }
        .counter {
            font-variant-numeric: tabular-nums;
        }
        .hero-background {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        html {
            scroll-behavior: smooth;
        }
        .btn-professional {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .btn-professional::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        .btn-professional:hover::before {
            left: 100%;
        }
    </style>
</head>
<body class="font-sans">
    <div class="scroll-progress" id="scrollProgress"></div>

    <nav class="nav-professional shadow-lg fixed w-full z-50 transition-all duration-300" id="mainNav">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <div class="flex items-center">
                        <div class="bg-gradient-to-r from-primary-blue to-primary-green p-2 rounded-lg mr-3">
                            <i class="fas fa-hands-helping text-white text-xl"></i>
                        </div>
                        <div>
                            <div class="font-bold text-xl text-gray-800">HopeLink</div>
                            <div class="text-xs text-primary-green font-semibold">Mahama Refugee Camp</div>
                        </div>
                    </div>
                </div>
                
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="#" class="nav-item text-gray-600 hover:text-primary-blue transition duration-300">Home</a>
                    
                    <div class="dropdown relative">
                        <button class="nav-item dropdown-btn text-gray-600 hover:text-primary-blue transition duration-300 flex items-center" data-dropdown="programs">
                            Programs <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </button>
                        <div class="dropdown-content dropdown-content-left" id="programs-dropdown">
                            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-blue transition">Hunger Help</a>
                            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-blue transition">Youth Empowerment</a>
                            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-blue transition">Mental Wellness</a>
                        </div>
                    </div>
                    
                    <a href="#" class="nav-item text-gray-600 hover:text-primary-blue transition duration-300">Who We Are</a>
                    <a href="#" class="nav-item text-gray-600 hover:text-primary-blue transition duration-300">Get Involved</a>
                    
                    <div class="dropdown relative">
                        <button class="nav-item dropdown-btn text-gray-600 hover:text-primary-blue transition duration-300 flex items-center" data-dropdown="news">
                            News & Updates <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </button>
                        <div class="dropdown-content dropdown-content-left" id="news-dropdown">
                            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-blue transition">Latest News</a>
                            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-blue transition">Success Stories</a>
                        </div>
                    </div>
                    
                    <a href="#" class="nav-item text-primary-blue font-semibold border-b-2 border-primary-blue">Contact</a>
                    
                    <div class="dropdown relative">
                        <button class="nav-item dropdown-btn bg-primary-yellow text-gray-800 px-4 py-2 rounded-lg font-semibold hover:bg-yellow-400 transition duration-300 flex items-center" data-dropdown="opportunities">
                            Opportunities <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </button>
                        <div class="dropdown-content dropdown-content-left" id="opportunities-dropdown">
                            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-blue transition">Volunteer</a>
                            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-blue transition">Careers</a>
                            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-blue transition">Partnerships</a>
                        </div>
                    </div>
                </div>

                <div class="flex items-center space-x-4">
                    <div id="authButtons" class="hidden md:flex space-x-2 items-center">
                        <button onclick="openModal('loginModal')" class="nav-item text-primary-blue px-4 py-2 rounded-lg font-semibold border border-primary-blue hover:bg-primary-blue hover:text-white transition duration-300">
                            Login
                        </button>
                        <button onclick="openModal('signupModal')" class="donate-btn btn-professional text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-600 transition">
                            Signup
                        </button>
                    </div>

                    <div id="userProfile" class="dropdown relative hidden">
                        <button class="dropdown-btn flex items-center space-x-2 text-gray-800 hover:text-primary-blue transition duration-300 group" data-dropdown="user-menu" id="userDisplayName">
                            <i class="fas fa-user-circle text-2xl text-primary-blue group-hover:text-primary-green"></i>
                            <span class="font-semibold text-lg">User Name</span>
                            <i class="fas fa-chevron-down ml-1 text-xs"></i>
                        </button>
                        <div class="dropdown-content" id="user-menu-dropdown">
                            <a href="#" onclick="openModal('profileModal')" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-blue transition">
                                <i class="fas fa-address-card mr-2"></i>My Profile
                            </a>
                            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-primary-blue transition">
                                <i class="fas fa-cog mr-2"></i>Settings
                            </a>
                            <a href="#" onclick="logoutUser()" class="block px-4 py-2 text-red-600 hover:bg-red-50 transition border-t mt-1">
                                <i class="fas fa-sign-out-alt mr-2"></i>Logout
                            </a>
                        </div>
                    </div>
                    <!-- <button onclick="openModal('donateModal')" class="donate-btn btn-professional hidden md:block text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-600 transition transform hover:scale-105 shadow-lg">
                        <i class="fas fa-heart mr-2"></i>Donate Now
                    </button> -->
                    
                    <button id="mobileMenuButton" class="md:hidden text-gray-600 hover:text-primary-blue transition">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
            
            <div id="mobileMenu" class="mobile-menu">
                <div class="px-4 py-2 space-y-3">
                    <div id="mobileAuthButtons">
                        <button onclick="openModal('loginModal'); closeMobileMenu();" class="w-full text-left nav-item text-primary-blue px-4 py-2 rounded-lg font-semibold border border-primary-blue hover:bg-primary-blue hover:text-white transition duration-300">
                            Login
                        </button>
                        <button onclick="openModal('signupModal'); closeMobileMenu();" class="w-full text-left donate-btn btn-professional text-white px-4 py-2 mt-2 rounded-lg font-semibold hover:bg-green-600 transition">
                            Signup
                        </button>
                    </div>
                    <div id="mobileUserProfile" class="mobile-dropdown hidden">
                         <button class="mobile-dropdown-btn w-full text-left py-2 text-gray-800 font-semibold hover:text-primary-blue transition flex items-center justify-between" id="mobileUserDisplayName">
                            <i class="fas fa-user-circle text-xl text-primary-blue"></i>
                            <span class="ml-2">User Name</span>
                            <i class="fas fa-chevron-down text-xs ml-auto"></i>
                        </button>
                        <div class="mobile-dropdown-content">
                            <a href="#" onclick="openModal('profileModal'); closeMobileMenu();" class="block py-2 text-gray-600 hover:text-primary-blue transition pl-4">My Profile</a>
                            <a href="#" onclick="logoutUser(); closeMobileMenu();" class="block py-2 text-red-600 hover:text-primary-blue transition pl-4">Logout</a>
                        </div>
                    </div>
                    <a href="#" class="block py-2 text-primary-blue font-semibold border-b border-gray-200 transition">Home</a>
                    <div class="mobile-dropdown">
                        <button class="mobile-dropdown-btn w-full text-left py-2 text-gray-600 hover:text-primary-blue transition flex items-center justify-between">Programs <i class="fas fa-chevron-down text-xs"></i></button>
                        <div class="mobile-dropdown-content">
                            <a href="#" class="block py-2 text-gray-600 hover:text-primary-blue transition pl-4">Hunger Help</a>
                            <a href="#" class="block py-2 text-gray-600 hover:text-primary-blue transition pl-4">Youth Empowerment</a>
                            <a href="#" class="block py-2 text-gray-600 hover:text-primary-blue transition pl-4">Mental Wellness</a>
                        </div>
                    </div>
                    <a href="#" class="block py-2 text-gray-600 hover:text-primary-blue transition">About</a>
                    <a href="#" class="block py-2 text-gray-600 hover:text-primary-blue transition">Get Involved</a>
                    <div class="mobile-dropdown">
                        <button class="mobile-dropdown-btn w-full text-left py-2 text-gray-600 hover:text-primary-blue transition flex items-center justify-between">News & Updates <i class="fas fa-chevron-down text-xs"></i></button>
                        <div class="mobile-dropdown-content">
                            <a href="#" class="block py-2 text-gray-600 hover:text-primary-blue transition pl-4">Latest News</a>
                            <a href="#" class="block py-2 text-gray-600 hover:text-primary-blue transition pl-4">Success Stories</a>
                        </div>
                    </div>
                    <a href="#" class="block py-2 text-primary-blue font-semibold border-b-2 border-primary-blue transition">Contact</a>
                    <div class="mobile-dropdown">
                        <button class="mobile-dropdown-btn w-full text-left py-2 bg-primary-yellow text-gray-800 rounded-lg font-semibold hover:bg-yellow-400 transition flex items-center justify-between px-4">Opportunities <i class="fas fa-chevron-down text-xs"></i></button>
                        <div class="mobile-dropdown-content">
                            <a href="#" class="block py-2 text-gray-600 hover:text-primary-blue transition pl-4">Volunteer</a>
                            <a href="#" class="block py-2 text-gray-600 hover:text-primary-blue transition pl-4">Careers</a>
                            <a href="#" class="block py-2 text-gray-600 hover:text-primary-blue transition pl-4">Partnerships</a>
                        </div>
                    </div>
                    <button onclick="openModal('donateModal'); closeMobileMenu();" class="w-full donate-btn btn-professional bg-primary-green text-white px-6 py-2 mt-3 rounded-lg hover:bg-green-600 transition transform hover:scale-105 text-left flex items-center justify-center">
                        <i class="fas fa-heart mr-2"></i>Donate Now
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div id="notification" class="notification">
        <div class="flex items-center">
            <i id="notificationIcon" class="fas fa-check-circle mr-2"></i>
            <span id="notificationMessage">Action completed successfully!</span>
        </div>
    </div>

    <section class="pt-32 hero-background min-h-screen flex items-center relative overflow-hidden">
        <div class="absolute inset-0 opacity-20">...</div>
        <div class="max-w-7xl mx-auto px-4 py-20 text-center text-white relative z-10">
            <div class="fade-in visible">
                <h1 class="text-5xl md:text-6xl font-bold mb-6 leading-tight">
                    Empowering Refugees and Host Communities Through Technology and Hope
                </h1>
                <p class="text-xl md:text-2xl mb-8 opacity-90 max-w-4xl mx-auto">
                    Connecting children, women, and youth in Mahama Camp to food, safety, opportunity, and digital empowerment.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <button onclick="scrollToSection('programs')" class="btn-professional bg-white text-primary-green px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition transform hover:scale-105 shadow-lg">
                        <i class="fas fa-hands-helping mr-2"></i>Get Help
                    </button>
                    <button onclick="openModal('donateModal')" class="btn-professional bg-primary-yellow text-gray-800 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-yellow-400 transition transform hover:scale-105 shadow-lg">
                        <i class="fas fa-gift mr-2"></i>Donate Now
                    </button>
                    <button onclick="scrollToSection('mission')" class="btn-professional bg-transparent border-2 border-white text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-white hover:text-primary-blue transition transform hover:scale-105">
                        <i class="fas fa-info-circle mr-2"></i>Learn More
                    </button>
                </div>
                <div class="grid grid-cols-3 gap-8 mt-16 max-w-2xl mx-auto">...</div>
            </div>
        </div>
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
            <button onclick="scrollToSection('mission')" class="text-white text-2xl">
                <i class="fas fa-chevron-down"></i>
            </button>
        </div>
    </section>
    
    <section id="mission" class="py-20 bg-white">...</section>

    <section id="programs" class="py-20 bg-gray-50">...</section>
    
    <footer class="bg-gray-800 text-white py-12">...</footer>
    

    <div id="loginModal" class="modal" onclick="if(event.target.id === 'loginModal') closeModal('loginModal')">
        <div class="modal-content">
             <button onclick="closeModal('loginModal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-900 transition"><i class="fas fa-times text-xl"></i></button>
            <h3 class="text-3xl font-bold text-gray-800 mb-6 text-center">Welcome Back!</h3>
            <p class="text-center text-gray-600 mb-8">Sign in to access your dashboard and personalized services.</p>
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="mb-4">
                    <label for="loginEmail" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    <input type="email" id="loginEmail" name="email" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition">
                </div>
                <div class="mb-6">
                    <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="loginPassword" name="password" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-blue focus:border-primary-blue transition">
                </div>
                <button type="submit" id="loginBtn" class="w-full bg-primary-blue text-white p-3 rounded-lg font-semibold text-lg hover:bg-blue-600 transition btn-professional">
                    Login
                </button>
            </form>
            <p class="text-center text-sm text-gray-500 mt-4">
                Don't have an account? <a href="#" onclick="openModal('signupModal'); closeModal('loginModal'); return false;" class="text-primary-green hover:underline font-semibold">Sign up here</a>.
            </p>
        </div>
    </div>

    <div id="signupModal" class="modal" onclick="if(event.target.id === 'signupModal') closeModal('signupModal')">
        <div class="modal-content">
            <button onclick="closeModal('signupModal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-900 transition"><i class="fas fa-times text-xl"></i></button>
            <h3 class="text-3xl font-bold text-gray-800 mb-6 text-center">Create Your HopeLink Account</h3>
            <p class="text-center text-gray-600 mb-8">Join our community to access resources and opportunities.</p>
            <form id="signupForm" onsubmit="handleSignup(event)">
                <div class="mb-4">
                    <label for="signupName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                    <input type="text" id="signupName" name="fullName" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-green focus:border-primary-green transition">
                </div>
                <div class="mb-4">
                    <label for="signupEmail" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                    <input type="email" id="signupEmail" name="email" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-green focus:border-primary-green transition">
                </div>
                <div class="mb-6">
                    <label for="signupPassword" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="signupPassword" name="password" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary-green focus:border-primary-green transition">
                    <p class="text-xs text-gray-500 mt-1">Must be at least 6 characters long.</p>
                </div>
                <button type="submit" id="signupBtn" class="w-full bg-primary-green text-white p-3 rounded-lg font-semibold text-lg hover:bg-green-600 transition btn-professional">
                    Create Account
                </button>
            </form>
            <p class="text-center text-sm text-gray-500 mt-4">
                Already have an account? <a href="#" onclick="openModal('loginModal'); closeModal('signupModal'); return false;" class="text-primary-blue hover:underline font-semibold">Login here</a>.
            </p>
        </div>
    </div>

    <div id="profileModal" class="modal" onclick="if(event.target.id === 'profileModal') closeModal('profileModal')">
        <div class="modal-content modal-content-lg">
            <button onclick="closeModal('profileModal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-900 transition"><i class="fas fa-times text-xl"></i></button>
            <h3 class="text-3xl font-bold text-gray-800 mb-8 text-center"><i class="fas fa-user-circle text-primary-blue mr-2"></i>My Profile</h3>
            
            <div id="profileContent" class="space-y-6">
                <div class="flex items-center space-x-4 border-b pb-4">
                    <div class="w-16 h-16 bg-primary-yellow text-white rounded-full flex items-center justify-center text-2xl font-bold" id="profileAvatar">A</div>
                    <div>
                        <h4 class="text-2xl font-bold text-gray-800" id="profileName">Loading User...</h4>
                        <p class="text-sm text-gray-500" id="profileStatus">Member since [Date]</p>
                    </div>
                </div>

                <div>
                    <h5 class="text-xl font-semibold text-gray-700 mb-3 border-l-4 border-primary-blue pl-2">Personal Information</h5>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <p class="text-sm text-gray-500">Full Name</p>
                            <p class="font-medium text-gray-800" id="profileDetailName">N/A</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Email Address</p>
                            <p class="font-medium text-gray-800" id="profileDetailEmail">N/A</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Account Type</p>
                            <p class="font-medium text-primary-green" id="profileDetailType">Community Member</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">Last Login</p>
                            <p class="font-medium text-gray-800" id="profileLastLogin">Just Now</p>
                        </div>
                    </div>
                </div>

                <div class="pt-6 border-t flex justify-between items-center">
                    <button onclick="logoutUser(); closeModal('profileModal');" class="bg-red-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-red-600 transition btn-professional">
                        <i class="fas fa-sign-out-alt mr-2"></i>Logout
                    </button>
                    <button class="bg-primary-blue text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-600 transition btn-professional">
                        <i class="fas fa-edit mr-2"></i>Edit Profile
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="donateModal" class="modal" onclick="if(event.target.id === 'donateModal') closeModal('donateModal')">...</div>

    <script>
        // Global User State
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        
        // ==============================================
        // CORE AUTHENTICATION FUNCTIONS
        // ==============================================

        /**
         * Updates the navigation bar based on the user's logged-in status.
         */
        function updateNav() {
            const authButtons = document.getElementById('authButtons');
            const userProfile = document.getElementById('userProfile');
            const userDisplayName = document.getElementById('userDisplayName').querySelector('span');
            
            const mobileAuthButtons = document.getElementById('mobileAuthButtons');
            const mobileUserProfile = document.getElementById('mobileUserProfile');
            const mobileUserDisplayName = document.getElementById('mobileUserDisplayName').querySelector('span');

            if (currentUser) {
                // Desktop
                authButtons.classList.add('hidden');
                userProfile.classList.remove('hidden');
                userDisplayName.textContent = currentUser.firstName;
                
                // Mobile
                mobileAuthButtons.classList.add('hidden');
                mobileUserProfile.classList.remove('hidden');
                mobileUserDisplayName.textContent = currentUser.firstName;
            } else {
                // Desktop
                authButtons.classList.remove('hidden');
                userProfile.classList.add('hidden');
                
                // Mobile
                mobileAuthButtons.classList.remove('hidden');
                mobileUserProfile.classList.add('hidden');
            }
        }

        /**
         * Simulates a Signup process.
         */
        function handleSignup(event) {
            event.preventDefault();
            const form = event.target;
            const btn = document.getElementById('signupBtn');
            btn.classList.add('btn-loading');
            btn.disabled = true;

            setTimeout(() => {
                const fullName = form.fullName.value.trim();
                const email = form.email.value.trim();
                const password = form.password.value;

                if (!fullName || !email || password.length < 6) {
                    showNotification('Please fill all fields correctly!', 'error');
                    btn.classList.remove('btn-loading');
                    btn.disabled = false;
                    return;
                }
                
                // Simulate account creation success
                const names = fullName.split(' ');
                const firstName = names[0];
                currentUser = {
                    fullName: fullName,
                    firstName: firstName,
                    email: email,
                    memberSince: new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }),
                    lastLogin: new Date().toLocaleTimeString()
                };

                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateNav();
                closeModal('signupModal');
                showNotification(`Welcome, ${firstName}! Account created successfully.`, 'success');
                
                // Redirection back to homepage is implicit as this is all one page
                btn.classList.remove('btn-loading');
                btn.disabled = false;
                form.reset();

            }, 1500); // Simulate network delay
        }

        /**
         * Simulates a Login process.
         */
        function handleLogin(event) {
            event.preventDefault();
            const form = event.target;
            const btn = document.getElementById('loginBtn');
            btn.classList.add('btn-loading');
            btn.disabled = true;

            setTimeout(() => {
                const email = form.email.value.trim();
                const password = form.password.value;
                
                // In a real app, you'd check credentials against a server.
                // Here, we simulate a successful login if a user has signed up previously, 
                // or use a dummy account if not.
                let loggedInUser = localStorage.getItem('currentUser');
                
                if (loggedInUser) {
                    currentUser = JSON.parse(loggedInUser);
                    currentUser.lastLogin = new Date().toLocaleTimeString();
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    
                    updateNav();
                    closeModal('loginModal');
                    showNotification(`Welcome back, ${currentUser.firstName}!`, 'success');

                } else if (email === 'test@user.com' && password === 'password123') { // Dummy Login
                    currentUser = {
                        fullName: 'Test User',
                        firstName: 'Test',
                        email: 'test@user.com',
                        memberSince: 'January 1, 2024',
                        lastLogin: new Date().toLocaleTimeString()
                    };
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    
                    updateNav();
                    closeModal('loginModal');
                    showNotification(`Welcome back, Test!`, 'success');

                } else {
                    showNotification('Invalid email or password.', 'error');
                }

                btn.classList.remove('btn-loading');
                btn.disabled = false;
                form.reset();
            }, 1500); // Simulate network delay
        }
        
        /**
         * Logs the user out.
         */
        function logoutUser() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateNav();
            closeAllDropdowns();
            showNotification('You have been logged out successfully.', 'success');
            // Redirection back to homepage is implicit.
        }

        /**
         * Populates and opens the Profile Modal.
         */
        function openProfileModal() {
            if (!currentUser) return;

            // Populate the modal with user data
            document.getElementById('profileName').textContent = currentUser.fullName;
            document.getElementById('profileDetailName').textContent = currentUser.fullName;
            document.getElementById('profileDetailEmail').textContent = currentUser.email;
            document.getElementById('profileStatus').textContent = `Member since ${currentUser.memberSince}`;
            document.getElementById('profileLastLogin').textContent = currentUser.lastLogin;
            document.getElementById('profileAvatar').textContent = currentUser.firstName.charAt(0).toUpperCase();

            openModal('profileModal');
        }

        // ==============================================
        // UI UTILITY FUNCTIONS
        // ==============================================
        
        /**
         * Displays a notification banner.
         */
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const icon = document.getElementById('notificationIcon');
            const msg = document.getElementById('notificationMessage');

            notification.classList.remove('success', 'error');
            notification.classList.add(type);
            
            icon.className = '';
            icon.classList.add('mr-2', 'fas', type === 'success' ? 'fa-check-circle' : 'fa-times-circle');
            msg.textContent = message;

            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        /**
         * Opens a modal.
         */
        function openModal(modalId) {
            closeAllDropdowns();
            if (modalId === 'profileModal') {
                openProfileModal(); // Specific logic for profile
            } else {
                document.getElementById(modalId).classList.add('active');
            }
        }

        /**
         * Closes a modal.
         */
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        /**
         * Closes all dropdowns.
         */
        function closeAllDropdowns() {
            document.querySelectorAll('.dropdown-content.active').forEach(dropdown => {
                dropdown.classList.remove('active');
            });
             document.querySelectorAll('.mobile-dropdown-content.active').forEach(dropdown => {
                dropdown.classList.remove('active');
            });
        }
        
        /**
         * Closes the mobile menu.
         */
        function closeMobileMenu() {
            document.getElementById('mobileMenu').classList.remove('active');
            document.getElementById('mobileMenuButton').querySelector('.fa-bars, .fa-times').classList.remove('fa-times');
            document.getElementById('mobileMenuButton').querySelector('.fa-bars, .fa-times').classList.add('fa-bars');
        }
        
        // ==============================================
        // EVENT LISTENERS & INITIALIZATION
        // ==============================================
        
        document.addEventListener('DOMContentLoaded', () => {
            // Initial check for user state
            updateNav();

            // Mobile Menu Toggle
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('active');
                mobileMenuButton.querySelector('.fa-bars, .fa-times').classList.toggle('fa-bars');
                mobileMenuButton.querySelector('.fa-bars, .fa-times').classList.toggle('fa-times');
            });

            // Desktop Dropdown Toggle
            document.querySelectorAll('.dropdown-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const dropdownId = button.getAttribute('data-dropdown') + '-dropdown';
                    const dropdownContent = document.getElementById(dropdownId);
                    
                    closeAllDropdowns(); // Close others first
                    dropdownContent.classList.toggle('active');
                });
            });

            // Mobile Dropdown Toggle
             document.querySelectorAll('.mobile-dropdown-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.nextElementSibling;
                    const chevron = button.querySelector('.fa-chevron-down, .fa-chevron-up');
                    
                    // Toggle content
                    content.classList.toggle('active');
                    
                    // Toggle chevron icon
                    chevron.classList.toggle('fa-chevron-down');
                    chevron.classList.toggle('fa-chevron-up');
                });
            });

            // Close dropdowns when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.dropdown')) {
                    closeAllDropdowns();
                }
            });
            
            // Scroll Progress Bar & Nav Shadow
            window.addEventListener('scroll', () => {
                const scrollProgress = document.getElementById('scrollProgress');
                const mainNav = document.getElementById('mainNav');
                const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                const scrolled = (scrollTop / scrollHeight) * 100;
                
                scrollProgress.style.width = scrolled + '%';
                
                if (scrollTop > 50) {
                    mainNav.classList.add('nav-scrolled');
                } else {
                    mainNav.classList.remove('nav-scrolled');
                }

                // Intersection Observer for fade-in animations (if any)
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, { threshold: 0.1 });

                document.querySelectorAll('.fade-in:not(.visible)').forEach(element => {
                    observer.observe(element);
                });
            });

            // Counter animation logic (Simplified for a brief example)
            const animateCounter = (el) => {
                const target = parseInt(el.getAttribute('data-target'));
                let current = 0;
                const increment = target / 200; // Animation duration over ~2 seconds
                
                const updateCounter = () => {
                    current += increment;
                    if (current < target) {
                        el.textContent = Math.ceil(current).toLocaleString();
                        requestAnimationFrame(updateCounter);
                    } else {
                        el.textContent = target.toLocaleString();
                    }
                };
                updateCounter();
            };

            const counterObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        animateCounter(entry.target);
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            document.querySelectorAll('.counter').forEach(el => {
                counterObserver.observe(el);
            });
            
        });
        
        /**
         * Smoothly scrolls to a section.
         */
        function scrollToSection(id) {
            const element = document.getElementById(id);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
                // If on mobile, close the menu after clicking a link
                closeMobileMenu();
            }
        }
    </script>
</body>
</html>